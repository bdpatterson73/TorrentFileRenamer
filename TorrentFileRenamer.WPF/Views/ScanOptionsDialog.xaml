<Window x:Class="TorrentFileRenamer.WPF.Views.ScanOptionsDialog"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
   xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:TorrentFileRenamer.WPF.ViewModels"
        mc:Ignorable="d"
        Title="Scan Options"
     Height="300"
   Width="600"
    WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        d:DataContext="{d:DesignInstance Type=vm:ScanOptionsViewModel}">
    <Window.Resources>
        <Style TargetType="Label">
     <Setter Property="Margin" Value="0,5,0,2"/>
     </Style>
        <Style TargetType="TextBox">
        <Setter Property="Padding" Value="5"/>
            <Setter Property="Height" Value="30"/>
        </Style>
        <Style TargetType="Button" BasedOn="{StaticResource SecondaryButton}">
   <Setter Property="Width" Value="30"/>
     <Setter Property="Height" Value="30"/>
            <Setter Property="Margin" Value="5,0,0,0"/>
        </Style>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
          <RowDefinition Height="Auto"/>
       <RowDefinition Height="Auto"/>
     <RowDefinition Height="Auto"/>
   <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
      <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

    <!-- Source Path -->
        <Label Grid.Row="0" Content="Source Directory:"/>
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
           <ColumnDefinition Width="*"/>
      <ColumnDefinition Width="Auto"/>
    </Grid.ColumnDefinitions>
            <TextBox Grid.Column="0" Text="{Binding SourcePath, UpdateSourceTrigger=PropertyChanged}"/>
            <Button Grid.Column="1" Content="..." Command="{Binding BrowseSourceCommand}" ToolTip="Browse for source directory"/>
     </Grid>

        <!-- Destination Path -->
        <Label Grid.Row="2" Content="Destination Directory:" Margin="0,10,0,2"/>
        <Grid Grid.Row="3">
      <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
           <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
  <TextBox Grid.Column="0" Text="{Binding DestinationPath, UpdateSourceTrigger=PropertyChanged}"/>
            <Button Grid.Column="1" Content="..." Command="{Binding BrowseDestinationCommand}" ToolTip="Browse for destination directory"/>
        </Grid>

        <!-- File Extensions -->
        <StackPanel Grid.Row="4" Margin="0,10,0,0">
         <Label Content="File Extensions (semicolon separated):"/>
       <TextBox Text="{Binding FileExtensions, UpdateSourceTrigger=PropertyChanged}"/>
     <TextBlock Text="Example: .mkv;.mp4;.avi" 
               Foreground="Gray" 
 FontSize="10" 
       Margin="0,2,0,0"/>
        </StackPanel>

     <!-- Validation Errors -->
        <ItemsControl Grid.Row="4" ItemsSource="{Binding ValidationErrors}" 
  Margin="0,80,0,10"
          VerticalAlignment="Bottom">
     <ItemsControl.ItemTemplate>
     <DataTemplate>
         <TextBlock Text="{Binding}" 
    Foreground="Red" 
FontSize="11" 
             Margin="0,2"/>
         </DataTemplate>
     </ItemsControl.ItemTemplate>
   </ItemsControl>

        <!-- Buttons -->
        <StackPanel Grid.Row="5" 
    Orientation="Horizontal" 
       HorizontalAlignment="Right"
 Margin="0,20,0,0">
    <Button Content="OK" 
        Click="OkButton_Click" 
            IsEnabled="{Binding IsValid}"
        Style="{StaticResource PrimaryButton}"
          Width="80"
     Margin="0,0,10,0"/>
    <Button Content="Cancel" 
     Click="CancelButton_Click"
         Style="{StaticResource SecondaryButton}"
             Width="80"/>
        </StackPanel>
    </Grid>
</Window>
